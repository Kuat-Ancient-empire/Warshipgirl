wg_mist_factory_planet_auto = {
	category = "planet_automation_designation_construction"
	available = {
		has_designation = col_wsg_factory
		NOR = {
			uses_district_set = ring_world
		}
		owner = {
			has_authority = auth_warshipgirls
			has_project_s_ascension_path = no
		}
	}
	emergency = yes
	prio_districts = {
		district_industrial
	}

	buildings = {
		1 = {
			building = building_capital
			available = {
				always = yes
			}
		}

		# 建造厂
		2 = {
			building = building_warshipgirl_assembly_plant
			available = {
				owner = { wsg_assembly_affordable = yes }
			}
		}
		# 涅槃
		3 = {
			building = building_dimensional_center
			available = {
				owner = { is_nirvana_empire_council = yes }
				num_buildings = { type = building_dimensional_center value = 0 }
			}
		}
		4 = {
			building = building_dragon_psi_industry
			available = {
				owner = { is_nirvana_empire_dragon = yes }
				num_buildings = { type = building_dragon_psi_industry value = 0 }
			}
		}
		# 消费品厂
		5 = {
			building = building_factory_1
			available = {
				owner = { factory_1_upkeep_affordable = yes }
			}
		}
		6 = {
			building = building_betharian_consumer
			available = {
				owner = { has_monthly_income = { resource = energy value > 10 }}
			}
		}
		# 通用建筑
		7 = {
			building = building_wsg_luxury_residence2
			available = {
				owner = { 
					wsg_luxury_affordable = yes 
					has_origin = origin_wsg_ice_breaking
				}
				OR = {
					free_housing < -3
					free_amenities <= 0
				}
			}
		}
		8 = {
			building = building_wsg_luxury_residence
			available = {
				owner = { 
					wsg_luxury_affordable = yes 
					NOT = { has_origin = origin_wsg_ice_breaking }
				}
				OR = {
					free_housing < -3
					free_amenities <= 0
				}
			}
		}
		9 = {
			building = building_wsg_autochthon_monument
			available = {
				owner = {
					wsg_monument_affordable = yes
				}
			}
		}
		10 = {
			building = building_wsg_ella_government
			available = {
				owner = { 
					has_civic = civic_wgella
					wsg_civic_buildings_affordable = yes 
				}
			}
		}
		11 = {
			building = building_wsg_elves_dormitory
			available = {
				owner = {
					has_civic = civic_wgelves
					wsg_civic_buildings_affordable = yes
				}
			}
		}
		12 = {
			building = building_mining_zoo
		}
		# WG战略资源
		13 = {
			building = building_wsg_neo
			available = {
				owner = { 
					wg_neo_require_trigger = yes
					wsg_neo_affordable = yes 
				}
			}
		}
		14 = {
			building = building_wsg_pantsu
			available = {
				owner = { 
					wg_pantsu_require_trigger = yes
					wsg_pantsu_affordable = yes 
				}
			}
		}
		# 气体
		15 = {
			building = building_gas_extractors
			available = {
				owner = {
					wg_gas_require_trigger = yes
				}
				num_buildings = { type = building_gas_extractors value = 0 }
			}
		}
		16 = {
			building = building_wsg_refinery
			available = {
				owner = {
					wg_gas_require_trigger = yes
					wg_neo_require_trigger = no
					wsg_refinery_mist_affordable = yes
				}
				num_buildings = { type = building_wsg_refinery value = 0 }
			}
		}
		# alpha晶体（优先级较低）
		17 = {
			building = building_wsg_alpha
			available = {
				owner = {
					wg_alpha_require_trigger = yes
					wg_neo_require_trigger = no
					wsg_alpha_affordable = yes
				}
			}
		}
		# 爆破微粒和水晶
		18 = {
			building = building_mote_harvesters
			available = {
				owner = { wg_mote_require_trigger = yes }
				num_buildings = { type = building_mote_harvesters value = 0 }
			}
		}
		19 = {
			building = building_crystal_mines
			available = {
				owner = { wg_crystals_require_trigger = yes }
				num_buildings = { type = building_crystal_mines value = 0 }
			}
		}
		20 = {
			building = building_gas_extractors
			available = {
				owner = {
					wg_mist_resource_enough_trigger = yes
					wg_gas_require_trigger = yes
				}
				num_buildings = { type = building_gas_extractors value = 1 }
				free_building_slots > 2
			}
		}
		21 = {
			building = building_mote_harvesters
			available = {
				owner = {
					wg_mist_resource_enough_trigger = yes
					wg_gas_require_trigger = yes
				}
				num_buildings = { type = building_mote_harvesters value = 1 }
				free_building_slots > 2
			}
		}
		22 = {
			building = building_crystal_mines
			available = {
				owner = {
					wg_mist_resource_enough_trigger = yes
					wg_gas_require_trigger = yes
					num_buildings = { type = building_mote_harvesters value = 1 }
				}
				free_building_slots > 2
			}
		}
		23 = {
			building = building_wsg_chemical_plant
			available = {
				owner = {
					wg_mist_resource_enough_trigger = yes
					wg_neo_require_trigger = no
					wg_mote_require_trigger = yes
				}
				free_building_slots > 1
			}
		}
		24 = {
			building = building_wsg_crystal_plant
			available = {
				owner = {
					wg_mist_resource_enough_trigger = yes
					wg_neo_require_trigger = no
					wg_crystals_require_trigger = yes
				}
				free_building_slots > 1
			}
		}
		# 啥都不缺下的量产建筑
		25 = {
			building = building_wsg_stage
			available = {
				owner = {
					wsg_stage_affordable = yes
				}
			}
		}
	}
}

wg_mist_factory_port_world_auto = {
	available = {
		has_designation = col_wsg_port_factory
		owner = {
			has_authority = auth_warshipgirls
			has_project_s_ascension_path = no
		}
	}

	prio_districts = {
		district_arcology_wsg_neo
	}
	emergency = yes
	buildings = {
		1 = {
			building = building_capital
			available = {
				always = yes
			}
		}

		# 建造厂
		2 = {
			building = building_warshipgirl_assembly_plant
			available = {
				owner = { wsg_assembly_affordable = yes }
			}
		}
		# 涅槃
		3 = {
			building = building_dimensional_center
			available = {
				owner = { is_nirvana_empire_council = yes }
				num_buildings = { type = building_dimensional_center value = 0 }
			}
		}
		4 = {
			building = building_dragon_psi_industry
			available = {
				owner = { is_nirvana_empire_dragon = yes }
				num_buildings = { type = building_dragon_psi_industry value = 0 }
			}
		}
		# 消费品厂
		5 = {
			building = building_factory_1
			available = {
				owner = { factory_1_upkeep_affordable = yes }
			}
		}
		6 = {
			building = building_betharian_consumer
			available = {
				owner = { has_monthly_income = { resource = energy value > 10 }}
			}
		}
		# 通用建筑
		7 = {
			building = building_wsg_luxury_residence2
			available = {
				owner = { 
					wsg_luxury_affordable = yes 
					has_origin = origin_wsg_ice_breaking
				}
				OR = {
					free_housing < -3
					free_amenities <= 0
				}
			}
		}
		8 = {
			building = building_wsg_luxury_residence
			available = {
				owner = { 
					wsg_luxury_affordable = yes 
					NOT = { has_origin = origin_wsg_ice_breaking }
				}
				OR = {
					free_housing < -3
					free_amenities <= 0
				}
			}
		}
		9 = {
			building = building_wsg_autochthon_monument
			available = {
				owner = {
					wsg_monument_affordable = yes
				}
			}
		}
		10 = {
			building = building_wsg_ella_government
			available = {
				owner = { 
					has_civic = civic_wgella
					wsg_civic_buildings_affordable = yes 
				}
			}
		}
		11 = {
			building = building_wsg_elves_dormitory
			available = {
				owner = {
					has_civic = civic_wgelves
					wsg_civic_buildings_affordable = yes
				}
			}
		}
		12 = {
			building = building_mining_zoo
		}
		# WG战略资源
		13 = {
			building = building_wsg_neo
			available = {
				owner = { 
					wg_neo_require_trigger = yes
					wsg_neo_affordable = yes 
				}
			}
		}
		14 = {
			building = building_wsg_pantsu
			available = {
				owner = { 
					wg_pantsu_require_trigger = yes
					wsg_pantsu_affordable = yes 
				}
			}
		}
		# 气体
		15 = {
			building = building_gas_extractors
			available = {
				owner = {
					wg_gas_require_trigger = yes
				}
				num_buildings = { type = building_gas_extractors value = 0 }
			}
		}
		16 = {
			building = building_wsg_refinery
			available = {
				owner = {
					wg_gas_require_trigger = yes
					wg_neo_require_trigger = no
					wsg_refinery_mist_affordable = yes
				}
				num_buildings = { type = building_wsg_refinery value = 0 }
			}
		}
		# alpha晶体（优先级较低）
		17 = {
			building = building_wsg_alpha
			available = {
				owner = {
					wg_alpha_require_trigger = yes
					wg_neo_require_trigger = no
					wsg_alpha_affordable = yes
				}
			}
		}
		# 爆破微粒和水晶
		18 = {
			building = building_mote_harvesters
			available = {
				owner = { wg_mote_require_trigger = yes }
				num_buildings = { type = building_mote_harvesters value = 0 }
			}
		}
		19 = {
			building = building_crystal_mines
			available = {
				owner = { wg_crystals_require_trigger = yes }
				num_buildings = { type = building_crystal_mines value = 0 }
			}
		}
		20 = {
			building = building_gas_extractors
			available = {
				owner = {
					wg_mist_resource_enough_trigger = yes
					wg_gas_require_trigger = yes
				}
				num_buildings = { type = building_gas_extractors value = 1 }
				free_building_slots > 2
			}
		}
		21 = {
			building = building_mote_harvesters
			available = {
				owner = {
					wg_mist_resource_enough_trigger = yes
					wg_gas_require_trigger = yes
				}
				num_buildings = { type = building_mote_harvesters value = 1 }
				free_building_slots > 2
			}
		}
		22 = {
			building = building_crystal_mines
			available = {
				owner = {
					wg_mist_resource_enough_trigger = yes
					wg_gas_require_trigger = yes
					num_buildings = { type = building_mote_harvesters value = 1 }
				}
				free_building_slots > 2
			}
		}
		23 = {
			building = building_wsg_chemical_plant
			available = {
				owner = {
					wg_mist_resource_enough_trigger = yes
					wg_neo_require_trigger = no
					wg_mote_require_trigger = yes
				}
				free_building_slots > 1
			}
		}
		24 = {
			building = building_wsg_crystal_plant
			available = {
				owner = {
					wg_mist_resource_enough_trigger = yes
					wg_neo_require_trigger = no
					wg_crystals_require_trigger = yes
				}
				free_building_slots > 1
			}
		}
		# 啥都不缺下的量产建筑
		25 = {
			building = building_wsg_stage
			available = {
				owner = {
					wsg_stage_affordable = yes
				}
			}
		}
	}
}

wg_mist_factory_ringworld_auto = {
	available = {
		has_designation = col_wsg_factory
		uses_district_set = ring_world
		owner = {
			has_authority = auth_warshipgirls
			has_project_s_ascension_path = no
		}
	}
	emergency = yes
	prio_districts = {
		district_rw_industrial
	}

	buildings = {
		1 = {
			building = building_capital
			available = {
				always = yes
			}
		}

		# 建造厂
		2 = {
			building = building_warshipgirl_assembly_plant
			available = {
				owner = { wsg_assembly_affordable = yes }
			}
		}
		# 涅槃
		3 = {
			building = building_dimensional_center
			available = {
				owner = { is_nirvana_empire_council = yes }
				num_buildings = { type = building_dimensional_center value = 0 }
			}
		}
		4 = {
			building = building_dragon_psi_industry
			available = {
				owner = { is_nirvana_empire_dragon = yes }
				num_buildings = { type = building_dragon_psi_industry value = 0 }
			}
		}
		# 消费品厂
		5 = {
			building = building_factory_1
			available = {
				owner = { factory_1_upkeep_affordable = yes }
			}
		}
		6 = {
			building = building_betharian_consumer
			available = {
				owner = { has_monthly_income = { resource = energy value > 10 }}
			}
		}
		# 通用建筑
		7 = {
			building = building_wsg_luxury_residence2
			available = {
				owner = { 
					wsg_luxury_affordable = yes 
					has_origin = origin_wsg_ice_breaking
				}
				OR = {
					free_housing < -3
					free_amenities <= 0
				}
			}
		}
		8 = {
			building = building_wsg_luxury_residence
			available = {
				owner = { 
					wsg_luxury_affordable = yes 
					NOT = { has_origin = origin_wsg_ice_breaking }
				}
				OR = {
					free_housing < -3
					free_amenities <= 0
				}
			}
		}
		9 = {
			building = building_wsg_autochthon_monument
			available = {
				owner = {
					wsg_monument_affordable = yes
				}
			}
		}
		10 = {
			building = building_wsg_ella_government
			available = {
				owner = { 
					has_civic = civic_wgella
					wsg_civic_buildings_affordable = yes 
				}
			}
		}
		11 = {
			building = building_wsg_elves_dormitory
			available = {
				owner = {
					has_civic = civic_wgelves
					wsg_civic_buildings_affordable = yes
				}
			}
		}
		12 = {
			building = building_mining_zoo
		}
		# WG战略资源
		13 = {
			building = building_wsg_neo
			available = {
				owner = { 
					wg_neo_require_trigger = yes
					wsg_neo_affordable = yes 
				}
			}
		}
		14 = {
			building = building_wsg_pantsu
			available = {
				owner = { 
					wg_pantsu_require_trigger = yes
					wsg_pantsu_affordable = yes 
				}
			}
		}
		# 气体
		15 = {
			building = building_gas_extractors
			available = {
				owner = {
					wg_gas_require_trigger = yes
				}
				num_buildings = { type = building_gas_extractors value = 0 }
			}
		}
		16 = {
			building = building_wsg_refinery
			available = {
				owner = {
					wg_gas_require_trigger = yes
					wg_neo_require_trigger = no
					wsg_refinery_mist_affordable = yes
				}
				num_buildings = { type = building_wsg_refinery value = 0 }
			}
		}
		# alpha晶体（优先级较低）
		17 = {
			building = building_wsg_alpha
			available = {
				owner = {
					wg_alpha_require_trigger = yes
					wg_neo_require_trigger = no
					wsg_alpha_affordable = yes
				}
			}
		}
		# 爆破微粒和水晶
		18 = {
			building = building_mote_harvesters
			available = {
				owner = { wg_mote_require_trigger = yes }
				num_buildings = { type = building_mote_harvesters value = 0 }
			}
		}
		19 = {
			building = building_crystal_mines
			available = {
				owner = { wg_crystals_require_trigger = yes }
				num_buildings = { type = building_crystal_mines value = 0 }
			}
		}
		20 = {
			building = building_gas_extractors
			available = {
				owner = {
					wg_mist_resource_enough_trigger = yes
					wg_gas_require_trigger = yes
				}
				num_buildings = { type = building_gas_extractors value = 1 }
				free_building_slots > 2
			}
		}
		21 = {
			building = building_mote_harvesters
			available = {
				owner = {
					wg_mist_resource_enough_trigger = yes
					wg_gas_require_trigger = yes
				}
				num_buildings = { type = building_mote_harvesters value = 1 }
				free_building_slots > 2
			}
		}
		22 = {
			building = building_crystal_mines
			available = {
				owner = {
					wg_mist_resource_enough_trigger = yes
					wg_gas_require_trigger = yes
					num_buildings = { type = building_mote_harvesters value = 1 }
				}
				free_building_slots > 2
			}
		}
		23 = {
			building = building_wsg_chemical_plant
			available = {
				owner = {
					wg_mist_resource_enough_trigger = yes
					wg_neo_require_trigger = no
					wg_mote_require_trigger = yes
				}
				free_building_slots > 1
			}
		}
		24 = {
			building = building_wsg_crystal_plant
			available = {
				owner = {
					wg_mist_resource_enough_trigger = yes
					wg_neo_require_trigger = no
					wg_crystals_require_trigger = yes
				}
				free_building_slots > 1
			}
		}
		# 啥都不缺下的量产建筑
		25 = {
			building = building_wsg_stage
			available = {
				owner = {
					wsg_stage_affordable = yes
				}
			}
		}
	}
}

wg_mist_factory_wsg_ringworld_auto = {
	available = {
		has_designation = col_wsg_ring_factory
		owner = {
			has_authority = auth_warshipgirls
			has_project_s_ascension_path = no
		}
	}

	prio_districts = {
		district_rw_wsg_alloys
	}
	emergency = yes
	buildings = {
		1 = {
			building = building_capital
			available = {
				always = yes
			}
		}

		# 建造厂
		2 = {
			building = building_warshipgirl_assembly_plant
			available = {
				owner = { wsg_assembly_affordable = yes }
			}
		}
		# 涅槃
		3 = {
			building = building_dimensional_center
			available = {
				owner = { is_nirvana_empire_council = yes }
				num_buildings = { type = building_dimensional_center value = 0 }
			}
		}
		4 = {
			building = building_dragon_psi_industry
			available = {
				owner = { is_nirvana_empire_dragon = yes }
				num_buildings = { type = building_dragon_psi_industry value = 0 }
			}
		}
		# 消费品厂
		5 = {
			building = building_factory_1
			available = {
				owner = { factory_1_upkeep_affordable = yes }
			}
		}
		6 = {
			building = building_betharian_consumer
			available = {
				owner = { has_monthly_income = { resource = energy value > 10 }}
			}
		}
		# 通用建筑
		7 = {
			building = building_wsg_luxury_residence2
			available = {
				owner = { 
					wsg_luxury_affordable = yes 
					has_origin = origin_wsg_ice_breaking
				}
				OR = {
					free_housing < -3
					free_amenities <= 0
				}
			}
		}
		8 = {
			building = building_wsg_luxury_residence
			available = {
				owner = { 
					wsg_luxury_affordable = yes 
					NOT = { has_origin = origin_wsg_ice_breaking }
				}
				OR = {
					free_housing < -3
					free_amenities <= 0
				}
			}
		}
		9 = {
			building = building_wsg_autochthon_monument
			available = {
				owner = {
					wsg_monument_affordable = yes
				}
			}
		}
		10 = {
			building = building_wsg_ella_government
			available = {
				owner = { 
					has_civic = civic_wgella
					wsg_civic_buildings_affordable = yes 
				}
			}
		}
		11 = {
			building = building_wsg_elves_dormitory
			available = {
				owner = {
					has_civic = civic_wgelves
					wsg_civic_buildings_affordable = yes
				}
			}
		}
		12 = {
			building = building_mining_zoo
		}
		# WG战略资源
		13 = {
			building = building_wsg_neo
			available = {
				owner = { 
					wg_neo_require_trigger = yes
					wsg_neo_affordable = yes 
				}
			}
		}
		14 = {
			building = building_wsg_pantsu
			available = {
				owner = { 
					wg_pantsu_require_trigger = yes
					wsg_pantsu_affordable = yes 
				}
			}
		}
		# 气体
		15 = {
			building = building_gas_extractors
			available = {
				owner = {
					wg_gas_require_trigger = yes
				}
				num_buildings = { type = building_gas_extractors value = 0 }
			}
		}
		16 = {
			building = building_wsg_refinery
			available = {
				owner = {
					wg_gas_require_trigger = yes
					wg_neo_require_trigger = no
					wsg_refinery_mist_affordable = yes
				}
				num_buildings = { type = building_wsg_refinery value = 0 }
			}
		}
		# alpha晶体（优先级较低）
		17 = {
			building = building_wsg_alpha
			available = {
				owner = {
					wg_alpha_require_trigger = yes
					wg_neo_require_trigger = no
					wsg_alpha_affordable = yes
				}
			}
		}
		# 爆破微粒和水晶
		18 = {
			building = building_mote_harvesters
			available = {
				owner = { wg_mote_require_trigger = yes }
				num_buildings = { type = building_mote_harvesters value = 0 }
			}
		}
		19 = {
			building = building_crystal_mines
			available = {
				owner = { wg_crystals_require_trigger = yes }
				num_buildings = { type = building_crystal_mines value = 0 }
			}
		}
		20 = {
			building = building_gas_extractors
			available = {
				owner = {
					wg_mist_resource_enough_trigger = yes
					wg_gas_require_trigger = yes
				}
				num_buildings = { type = building_gas_extractors value = 1 }
				free_building_slots > 2
			}
		}
		21 = {
			building = building_mote_harvesters
			available = {
				owner = {
					wg_mist_resource_enough_trigger = yes
					wg_gas_require_trigger = yes
				}
				num_buildings = { type = building_mote_harvesters value = 1 }
				free_building_slots > 2
			}
		}
		22 = {
			building = building_crystal_mines
			available = {
				owner = {
					wg_mist_resource_enough_trigger = yes
					wg_gas_require_trigger = yes
					num_buildings = { type = building_mote_harvesters value = 1 }
				}
				free_building_slots > 2
			}
		}
		23 = {
			building = building_wsg_chemical_plant
			available = {
				owner = {
					wg_mist_resource_enough_trigger = yes
					wg_neo_require_trigger = no
					wg_mote_require_trigger = yes
				}
				free_building_slots > 1
			}
		}
		24 = {
			building = building_wsg_crystal_plant
			available = {
				owner = {
					wg_mist_resource_enough_trigger = yes
					wg_neo_require_trigger = no
					wg_crystals_require_trigger = yes
				}
				free_building_slots > 1
			}
		}
		# 啥都不缺下的量产建筑
		25 = {
			building = building_wsg_stage
			available = {
				owner = {
					wsg_stage_affordable = yes
				}
			}
		}
	}
}
