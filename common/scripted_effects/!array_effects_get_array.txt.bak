# METHODS 函数表
# WARNING：All the variables use in this effect must be in the same scope, 
# or otherwise the method will not able to read the data correctly
# 警告：所有变量必须处于同一个值域（SCOPE），否则以下脚本方法将不能读取数据
# 
####################################################################################
# get_array = { ARRAY, INDEX, OUT }
# 
# 将数组内指定索引的值复制到指定的变量中
# copy the value in an array at the given index to the specific variable
# input: ARRAY 数组名, INDEX 索引（整数）
# output: OUT(variable name)# 变量名(输出)
####################################################################################
# get_array_variable = { ARRAY, VARIABLE, OUT }
# 
# 将数组内指定索引（数值为一个变量）储存的值复制到指定的变量中
# copy the value in an array at the given index (referred to an variable) to the specific variable
# input: ARRAY 数组名, VARIABLE(variable name) # 变量名(输入)
# output: OUT(variable name) # 变量名(输出)
####################################################################################

# 将数组内指定索引的值复制到指定的变量中
# copy the value in an array at the given index to the specific variable
# input: ARRAY 数组名, INDEX 索引
# output: OUT(variable name)# 变量名(输出)
get_array = {
	set_variable = {
		which = $OUT$
		value = $ARRAY$_$INDEX$
	}
}

# 将数组内指定索引（值为一个变量）的值复制到指定的变量中
# copy the value in an array at the given index (referred to an variable) to the specific variable
# input: ARRAY 数组名, VARIABLE(variable name) # 变量名(输入)
# output: OUT(variable name) # 变量名(输出)
get_array_variable = {
	optimize_memory
	if = {
		limit = { check_variable = { which = $VARIABLE$ value = 0 }}
		get_array = { ARRAY = $ARRAY$ INDEX = 0 OUT = $OUT$ }
	} else = {
		get_digits = { ARRAY = $VARIABLE$ VARIABLE = $VARIABLE$ }
		if = {
			limit = { check_variable = { which = $VARIABLE$_DIGIT_1 value = 1 }}
			get_array_variable_S2 = { ARRAY = $ARRAY$ OUT = $OUT$ VARIABLE = $VARIABLE$ INDEX = 1 }
		} else_if = {
			limit = { check_variable = { which = $VARIABLE$_DIGIT_1 value = 2 }}
			get_array_variable_S2 = { ARRAY = $ARRAY$ OUT = $OUT$ VARIABLE = $VARIABLE$ INDEX = 2 }
		} else_if = {
			limit = { check_variable = { which = $VARIABLE$_DIGIT_1 value = 3 }}
			get_array_variable_S2 = { ARRAY = $ARRAY$ OUT = $OUT$ VARIABLE = $VARIABLE$ INDEX = 3 }
		} else_if = {
			limit = { check_variable = { which = $VARIABLE$_DIGIT_1 value = 4 }}
			get_array_variable_S2 = { ARRAY = $ARRAY$ OUT = $OUT$ VARIABLE = $VARIABLE$ INDEX = 4 }
		} else_if = {
			limit = { check_variable = { which = $VARIABLE$_DIGIT_1 value = 5 }}
			get_array_variable_S2 = { ARRAY = $ARRAY$ OUT = $OUT$ VARIABLE = $VARIABLE$ INDEX = 5 }
		} else_if = {
			limit = { check_variable = { which = $VARIABLE$_DIGIT_1 value = 6 }}
			get_array_variable_S2 = { ARRAY = $ARRAY$ OUT = $OUT$ VARIABLE = $VARIABLE$ INDEX = 6 }
		} else_if = {
			limit = { check_variable = { which = $VARIABLE$_DIGIT_1 value = 7 }}
			get_array_variable_S2 = { ARRAY = $ARRAY$ OUT = $OUT$ VARIABLE = $VARIABLE$ INDEX = 7 }
		} else_if = {
			limit = { check_variable = { which = $VARIABLE$_DIGIT_1 value = 8 }}
			get_array_variable_S2 = { ARRAY = $ARRAY$ OUT = $OUT$ VARIABLE = $VARIABLE$ INDEX = 8 }
		} else_if = {
			limit = { check_variable = { which = $VARIABLE$_DIGIT_1 value = 9 }}
			get_array_variable_S2 = { ARRAY = $ARRAY$ OUT = $OUT$ VARIABLE = $VARIABLE$ INDEX = 9 }
		}
		remove_array_variables = { ARRAY = $VARIABLE$ }
	}
}

get_array_variable_S2 = {
	optimize_memory
	if = {
		limit = { check_variable = { which = $VARIABLE$_DIGITS value = 1 }}
		get_array = { ARRAY = $ARRAY$ OUT = $OUT$ INDEX = $INDEX$ }
	} else = {
		if = {
			limit = { check_variable = { which = $VARIABLE$_DIGIT_2 value = 0 }}
			get_array = { ARRAY = $ARRAY$ OUT = $OUT$ INDEX = $INDEX$0 }
		} else_if = {
			limit = { check_variable = { which = $VARIABLE$_DIGIT_2 value = 1 }}
			get_array = { ARRAY = $ARRAY$ OUT = $OUT$ INDEX = $INDEX$1 }
		} else_if = {
			limit = { check_variable = { which = $VARIABLE$_DIGIT_2 value = 2 }}
			get_array = { ARRAY = $ARRAY$ OUT = $OUT$ INDEX = $INDEX$2 }
		} else_if = {
			limit = { check_variable = { which = $VARIABLE$_DIGIT_2 value = 3 }}
			get_array = { ARRAY = $ARRAY$ OUT = $OUT$ INDEX = $INDEX$3 }
		} else_if = {
			limit = { check_variable = { which = $VARIABLE$_DIGIT_2 value = 4 }}
			get_array = { ARRAY = $ARRAY$ OUT = $OUT$ INDEX = $INDEX$4 }
		} else_if = {
			limit = { check_variable = { which = $VARIABLE$_DIGIT_2 value = 5 }}
			get_array = { ARRAY = $ARRAY$ OUT = $OUT$ INDEX = $INDEX$5 }
		} else_if = {
			limit = { check_variable = { which = $VARIABLE$_DIGIT_2 value = 6 }}
			get_array = { ARRAY = $ARRAY$ OUT = $OUT$ INDEX = $INDEX$6 }
		} else_if = {
			limit = { check_variable = { which = $VARIABLE$_DIGIT_2 value = 7 }}
			get_array = { ARRAY = $ARRAY$ OUT = $OUT$ INDEX = $INDEX$7 }
		} else_if = {
			limit = { check_variable = { which = $VARIABLE$_DIGIT_2 value = 8 }}
			get_array = { ARRAY = $ARRAY$ OUT = $OUT$ INDEX = $INDEX$8 }
		} else_if = {
			limit = { check_variable = { which = $VARIABLE$_DIGIT_2 value = 9 }}
			get_array = { ARRAY = $ARRAY$ OUT = $OUT$ INDEX = $INDEX$9 }
		}
	}
}