# （苏可汗专用）函数式自增长资源扣除函数
# formula = BASE + BASE * ( SQE_COF * years of being subject ^ 2 * ( 1 - MINUS_COF )) * ( SQE_COF - MINUS_COF )
wg_khan_tribute_values_p1 = {
	base = 1
	subtract = $MINUS_COF$
	mult = this.years_be_khan_subject
	mult = this.years_be_khan_subject
	mult = $SQE_COF$
}

wg_khan_tribute_values = {
	base = $SQE_COF$
	subtract = $MINUS_COF$
	multiply = value:wg_khan_tribute_values_p1|MINUS_COF|$MINUS_COF$|SQE_COF|$SQE_COF$|
	add = $BASE$
}

# value = @\[ ( $BASE$ + ( $BASE$ * ( $SQE_COF$ * $YEARS$ * $YEARS$ * ( 1 - $MINUS_COF$ )) * ( $SQE_COF$ - $MINUS_COF$ )))]
wg_Deep_Eyes_White_Dragon_Ship_death = {
	base = 0
	add = wg_Deep_Eyes_White_Dragon_count
	min = 0
}

wg_modifier = {
	base = 0
	add = 1
	add = modifier:$MODIFIER$
}

wg_pop_amount = {
	base = 0
	add = trigger:pop_amount
	mult = 0.01
	min = 0
}

wg_pop_free_house = {
	base = 0
	add = trigger:free_housing
	mult = 0.01
	min = 0
}

wg_pop_free_job = {
	base = 0
	add = trigger:free_jobs
	mult = 0.01
	min = 0
}

wg_attendant_city_function_mult = {
	base = 0
	add = value:wg_pop_free_job
	divide = value:wg_pop_amount
}

wg_attendant_city_function = {
	base = 0
	complex_trigger_modifier = {
		trigger = num_districts
		parameters = {
			type = $DISTRICTS$
		}
		mode = add
	}
	mult = value:wg_attendant_city_function_mult
	min = 1
}

wg_attendant_growth = {
	base = 1
	add = value:wg_attendant_city_function|DISTRICTS|district_city|
	add = value:wg_attendant_city_function|DISTRICTS|district_crashed_slaver_ship|
	add = value:wg_attendant_city_function|DISTRICTS|district_resort|
	add = value:wg_attendant_city_function|DISTRICTS|district_prison|
	add = value:wg_attendant_city_function|DISTRICTS|district_slave|
	add = value:wg_attendant_city_function|DISTRICTS|district_hab_housing|
	add = value:wg_attendant_city_function|DISTRICTS|district_hab_housing|
	add = value:wg_attendant_city_function|DISTRICTS|district_hive|
	add = value:wg_attendant_city_function|DISTRICTS|district_hive_1|
	add = value:wg_attendant_city_function|DISTRICTS|district_hive_2|
	add = value:wg_attendant_city_function|DISTRICTS|district_hive_3|
	add = value:wg_attendant_city_function|DISTRICTS|district_nexus|
	add = value:wg_attendant_city_function|DISTRICTS|district_nexus_1|
	add = value:wg_attendant_city_function|DISTRICTS|district_nexus_2|
	add = value:wg_attendant_city_function|DISTRICTS|district_nexus_3|
	add = value:wg_attendant_city_function|DISTRICTS|district_arcology_housing|
	add = value:wg_attendant_city_function|DISTRICTS|district_arcology_urban_1|
	add = value:wg_attendant_city_function|DISTRICTS|district_arcology_urban_2|
	add = value:wg_attendant_city_function|DISTRICTS|district_arcology_urban_3|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_city|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_urban_1|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_urban_2|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_urban_3|
	add = value:wg_attendant_city_function|DISTRICTS|district_arcology_wsg_housing|
	add = value:wg_attendant_city_function|DISTRICTS|district_arcology_wsg_neo|
	add = value:wg_attendant_city_function|DISTRICTS|district_arcology_wsg_science|
	add = value:wg_attendant_city_function|DISTRICTS|district_arcology_wsg_military|
	add = value:wg_attendant_city_function|DISTRICTS|district_arcology_wsg_neo_alpha|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_wsg_city|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_wsg_alloys|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_wsg_science|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_wsg_soldier|
	add = value:wg_attendant_city_function|DISTRICTS|district_water_housing|
	add = value:wg_attendant_city_function|DISTRICTS|district_water_ktv|
	add = value:wg_attendant_city_function|DISTRICTS|district_hab_pantsu|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_water_housing|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_water_generator|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_water_food|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_water_ktv|
	add = value:wg_attendant_city_function|DISTRICTS|district_dr_housing|
	add = value:wg_attendant_city_function|DISTRICTS|district_dr_generator|
	add = value:wg_attendant_city_function|DISTRICTS|district_dr_science|
	add = value:wg_attendant_city_function|DISTRICTS|district_dr_industrial|
	add = value:wg_attendant_city_function|DISTRICTS|district_dr_roller_coaster|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_sh_city|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_sh_alloys|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_sh_goods|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_sh_soldier|
	add = value:wg_attendant_city_function|DISTRICTS|district_sh_city|
	add = value:wg_attendant_city_function|DISTRICTS|district_sh_generator_uncapped|
	add = value:wg_attendant_city_function|DISTRICTS|district_sh_mining_uncapped|
	add = value:wg_attendant_city_function|DISTRICTS|district_sh_foundry_shpc|
	add = value:wg_attendant_city_function|DISTRICTS|district_sh_pantsu_shpc|
	add = value:wg_attendant_city_function|DISTRICTS|district_sh_science_shpc|
	add = value:wg_attendant_city_function|DISTRICTS|district_uf_housing|
	add = value:wg_attendant_city_function|DISTRICTS|district_uf_alloys|
	add = value:wg_attendant_city_function|DISTRICTS|district_uf_science|
	add = value:wg_attendant_city_function|DISTRICTS|district_uf_military|
	add = value:wg_attendant_city_function|DISTRICTS|district_uf_entertainment|
	add = value:wg_attendant_city_function|DISTRICTS|district_uf_hyperdimensional_matter|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_uf_city|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_uf_alloys|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_uf_military|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_uf_rare_resource|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_uf_hyperdimensional_matter|
	add = value:wg_attendant_city_function|DISTRICTS|district_auto_uf_housing|
	add = value:wg_attendant_city_function|DISTRICTS|district_auto_uf_military|
	add = value:wg_attendant_city_function|DISTRICTS|district_auto_uf_alloys|
	add = value:wg_attendant_city_function|DISTRICTS|district_auto_uf_science|
	add = value:wg_attendant_city_function|DISTRICTS|district_auto_uf_hyperdimensional_matter|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_auto_uf_city|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_auto_uf_military|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_auto_uf_alloys|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_auto_uf_science|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_auto_uf_rare_resource|
	add = value:wg_attendant_city_function|DISTRICTS|district_rw_auto_uf_hyperdimensional_matter|
	add = value:wg_attendant_city_function|DISTRICTS|district_uf_glory_city|
	add = value:wg_attendant_city_function|DISTRICTS|district_uf_glory_military|
	add = value:wg_attendant_city_function|DISTRICTS|district_uf_glory_base_resources|
	add = value:wg_attendant_city_function|DISTRICTS|district_uf_glory_base_resources_2|
	add = value:wg_attendant_city_function|DISTRICTS|district_uf_glory_auto_industry|
	add = value:wg_attendant_city_function|DISTRICTS|district_uf_glory_auto_science|
	add = value:wg_attendant_city_function|DISTRICTS|district_uf_glory_auto_rare_resource|
	add = value:wg_attendant_city_function|DISTRICTS|district_uf_glory_auto_hyperdimensional_matter|
	add = value:wg_attendant_city_function|DISTRICTS|district_wg_hive_world_housing|
	add = value:wg_attendant_city_function|DISTRICTS|district_wg_hive_world_admin|
	add = value:wg_attendant_city_function|DISTRICTS|district_wg_forge|
	add = value:wg_attendant_city_function|DISTRICTS|district_wg_forge_research|
	modifier = { has_any_industry_zone = yes mult = 2 }
	complex_trigger_modifier = {
		trigger = count_owned_pop_group
		potential = { is_scope_type = planet }
		trigger_scope = this
		mode = divide
	}
	modifier = {
		OR = {
			has_modifier = planet_population_control
			has_modifier = planet_uf_population_control
		}
		set = 0
	}
}

wg_planet_pop_assembly_average_int = {
	base = 0	
	add = value:wg_attendant_growth
	mult = value:wg_modifier|MODIFIER|wg_planet_pop_assembly_average_mult|
	max = value:wg_pop_free_house
}
